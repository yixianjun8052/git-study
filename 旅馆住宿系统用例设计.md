#### 任务1：用户名字段测试用例设计
需求：登录页面中，用户名限制为 6~10 位自然数。

分析：
依据等价类划分法设计用例

等价类划分 | 用例
---- | ----
有效等价类 | 用户名：6~10 位自然数
无效等价类 | 用户名为空<br>用户名长度小于 6 位<br>用户名长度大于 10 位<br>用户名类型为非自然数：负数<br>用户名类型为非自然数：小数<br>用户名类型为非自然数：字母<br>用户名类型为非自然数：汉字<br>用户名类型为非自然数：特殊字符

依据边界值分析法补充用例

等价类划分 | 边界值补充用例
---- | ----
有效等价类 | 用户名为 6 位自然数<br>用户名为 10 位自然数
无效等价类 | 用户名为 5 位自然数<br>用户名为 11 位自然数

#### 任务2：注册页面测试用例设计
需求：注册页面需符合如下需求。
１、登录账号：长度为 3~19 位，且以字母开头。
２、真实姓名：必填项。
３、登录密码：必填项。
４、确认密码：就和登录密码一致。
５、出生日期：年份为 4 位数字，月份应在 1～12 之间，日期在 1～31 之间。

分析：
依据等价类划分法设计用例
注意：隐性需求，年份要在合理范围内。

等价类划分 | 用例
---- | ----
有效等价类 | 所有参数正确填写
无效等价类 | 账号长度小于3<br>账号长度大于19<br>账号以非字母开头：以数字、特殊字符、汉字开头<br>账号为空<br>真实姓名为空<br>登录密码为空<br>确认密码为空<br>确认密码与登录密码不一致<br>出生日期-年：小于4位<br>出生日期-年：大于4位<br>出生日期-年：**年份不在合理范围**<br>出生日期-年：4位非数字（含特殊字符、字母、汉字）<br>出生日期-年：空<br>出生日期-月：小于1<br>出生日期-月：大于12<br>出生日期-月：非数字<br>出生日期-月：空<br>出生日期-日：小于1<br>出生日期-日：大于31<br>出生日期-日：非数字<br>出生日期-日：空

依据边界值分析法补充用例（出生日期暂不考虑年和月对日的影响）

等价类划分 | 边界值补充用例
---- | ----
有效等价类 | 账号为 3 位<br>账号为 19 位<br>出生日期-年：4 位<br>出生日期-月：1<br>出生日期-月：12<br>出生日期-日：1<br>出生日期-日：31
无效等价类 | 账号为 2 位<br>账号为 20 位<br>出生日期-年：3 位<br>出生日期-年：5 位<br>出生日期-月：0<br>出生日期-月：13<br>出生日期-日：0<br>出生日期-日：32

#### 任务3：结算功能测试用例设计
需求：旅馆住宿系统的房费结算有一定的规则限制，当游客入住旅馆后在进行住宿费用结算时可依据房间价格、入住天数、入住人是否有会员卡等情况的不同给予折扣结算。具体房费计算方式为：房费＝房间单价 X 折扣率。
其中，折扣率根据住宿人住宿天数（最多 30 天）、会员卡种类（有卡、无卡）、入住次数（3 次及以下、3 次以上）和物品寄存个数的不同而有所不同，10 分及 10 分以上折扣率为 7 折，10 分以下折扣率为 9 折。
积分获取规则如下。
根据入住天数： 1 天 2 分，2~10 天 4 分，11~30 天 6 分。
根据会员卡有无：Y  4 分，N  1 分。
根据入住次数：3 次及以下 1 分、3 次以上 3 分。
根据物品寄存：1 件扣 1 分，最多扣 6 分，最多可寄存 9 件物品。

分析：
入住天数、会员卡有无、入住次数、物品寄存，共同影响积分，积分又影响折扣率，进而影响到房费。
所以，输入有五项：入住天数、会员卡有无、入住次数、物品寄存、房间单价。积分为中间输出，房费为最终输出。

输入分析：
入住天数：1天、2-10天、11-30天
会员卡：Y、N
入住次数：3次及以下、3次以上
物品寄存：空白、无、1-6件、7-9件

入住天数：0/1/2/10/11/30/31
入住次数：0/3/4/正无穷大
物品寄存：0/1/6/7/9/10
积分：0/10/11/正无穷大

依据等价类划分法设计用例

等价类划分 | 用例
---- | ----
有效等价类 | 入住 1 天，会员卡 Y，入住次数 3 次及以下，物品寄存 1~6 件<br>入住 2~10 天，会员卡 Y，入住次数 3 次及以下，物品寄存 7~9 件<br>入住 11~30 天，会员卡 N，入住次数 3 次以上，物品寄存无<br>入住 1~30 天，会员卡 N，入住次数 3 次以上，物品寄存空白
无效等价类 | 入住天数小于 1 天<br>入住天数大于 30 天<br>会员卡包含除“Y""N"之外的其他字符<br>入住次数包含除”3 次及以下“”3 次以上“之外的其他字符<br>物品寄存小于 1 件<br>物品寄存大于 9 件<br>物品寄存包含除”无“和空白之外的其他字符

依据边界值分析法补充用例
边界值分析：
入住天数：1/2/10/11/30/31
入住次数：0/3/4/无穷大
物品寄存：0/1/6/7/9/10
积分：0/10/11/无穷大

等价类划分 | 边界值补充用例
---- | ----
有效等价类 | 入住天数：1、2、10、11、30<br>入住次数：0、3、4、无穷大<br>物品寄存：1、6、7、9<br>积分：0、10、11、无穷大
无效等价类 | 入住天数：31<br>物品寄存：0<br>物品寄存：10

#### 任务4：输入日期，输出下一天的日期
需求：ＮextDate 函数包含 3 个输入变量，分别为 Month(月份)、Day(日期)和Year(年)；函数输出为输入后一天的日期。
三个输入变量均为整数，且取值范围满足：1<=Month<=12，1<=Day<=31，1980<=Year<=2020。

分析：
Year 和 Month 影响 Day。

输入：
Year：平年、闰年
Month：大月 1/3/5/7/8/10，大月 12，小月 4/6/9/11，平月 2
Day：1~27，28，29，30，31

共 2 x 4 x 5 = 40 条规则。

输出：
Day + 1
Day 复为 1
Month + 1
Month 复为 1
Year + 1
无效

决策表法

 | | | | | | | | | | | | | | 
---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ----
条件桩 | 
Year | - | - | - | - | - | - | 平年 | 平年 | 闰年 | 闰年 | 平年 | - | - | 平年
Month | 1/3/5/7/8/10 | 1/3/5/7/8/10 | 12 | 12 | 4/6/9/11 | 4/6/9/11 | 2 | 2 | 2 | 2 | 2 | 2 | 2 | 4/6/9/11
Day | 1~30 | 31 | 1~30 | 31 | 1~29 | 30 | 1~27 | 28 | 1~28 | 29 | 29 | 30 | 31 | 31
动作桩 | 
Day + 1 | √ |   | √	 |   | √ |   | √  |   | √  | 
Day 复为 1 | | √ | | √ | | √ | | √ | | √ | 
Month + 1 | | √ | | | | √ | | √ | | √ | 
Month 复为 1 | | | | √
Year + 1 | | | | √
无效 | | | | | | | | | | | √ | √ | √ | √

#### 任务5：系统兼容性测试用例设计
需求：旅馆住宿系统 Web 站点的兼容性测试。
浏览器：Edge，Chrome，Firefox
操作系统：Win10，Mac，Linux
应用服务器：Apache，Nginx，IIS
插件：无，RealPlayer，MediaPlayer

正交试验法分析：
4 因素 3 水平，符合正交表 L9(34)。
![[L9(34)正交表.png]]

用例条数 | 设计用例
---- | ----
1 | Edge + Win10 + Apache + 无
2 | Edge + Mac + Nginx + RealPlayer
3 | Edge + Linux + IIS + MediaPlayer
4 | Chrome + Win10 + Nginx + MediaPlayer
5 | Chrome + Mac + IIS + 无
6 | Chrome + Linux + Apache + RealPlayer
7 | Firefox + Win10 + IIS + RealPlayer
8 | Firefox + Mac + Apache + MediaPlayer
9 | Firefox + Linux + Nginx + 无

#### 任务6：在线订房测试用例设计
需求：游客访问网站进行网上房间预订操作，选择合适的房间后，进行在线预订；此时，需使用个人账号登录系统；待登录成功后，进行订金支付（订金金额为 1 天的房款）；支付成功后，生成房间预订单，完成整个房间预订流程。

场景法分析：

类型 | 描述
---- | ----
基本流 | 访问网站<br>选择房间<br>登录账号<br>支付订金<br>生成订单
备选流 1 | 没有想要的房间
备选流 2 | 房间没有空余
备选流 3 | 登录错误（未注册）
备选流 4 | 登录错误（账号或密码错误）
备选流 5 | 用户未支付
备选流 x | 游客退出系统

#### 任务7：会员卡结算测试用例设计
需求：游客可申请会员卡，可向卡内充值。在指定旅馆消费时，只需向商家出示会员卡，能完在读卡器上刷卡识别出用户信息，验证该用户是否被列入黑名单，若非黑名单中的游客则输入正确密码后即可进行折扣消费。
当办理房间结算时，需选择结算业务，针对界面提示打折后的住宿费用信息，输入已消费应支付的结算金额，成功办理结算并于会员卡中扣除结算金额，返回会员卡。
其中，会员卡可自行设置密码，每次消费前需输入密码方可进行继续操作。若 24 小时（一个自然日）内连续输错 3 次，卡即被锁定，需要联系客服进行解锁激活。

场景法分析：

类型 | 描述
---- | ----
基本流 | 读卡<br>验证用户信息<br>验证黑名单<br>输入密码<br>选择结算<br>输入金额<br>点击”结算“<br>退卡
备选流 1 | 读卡问题（读卡器未连接）
备选流 2 | 读卡问题（读卡器正忙）
备选流 3 | 用户验证未通过（卡损坏）
备选流 4 | 用户验证未通过（非本旅馆会员卡）
备选流 5 | 用户验证未通过（卡已注销）
备选流 6 | 用户验证未通过（银行卡）
备选流 7 | 用户被列入黑名单
备选流 8 | 输入密码有误（还有剩余输入机会）
备选流 9 | 输入密码有误（没有剩余输入机会），卡即被锁定
备选流 10 | 卡余额为 0
备选流 11 | 输入金额有误（小于应支付金额）
备选流 12 | 输入金额有误（大于应支付金额）
备选流 13 | 卡余额不足
备选流 x | 游客退出结算

#### 任务8：添加房间测试用例综合设计
需求：旅馆住宿系统中，旅馆业主可进行添加房间操作，具体”添加房间“业务描述如下：
（1）旅馆业主登录系统后，可以请求添加房间。
（2）待进入”房间管理“页面，单击”添加“按钮可进行添加房间操作。
（3）添加房间时，可设定房间的房间编号、房间类型、房间描述信息。
（4）添加房间信息不能缺失，若某一项未填写，要给出提示信息。
（5）房间编号长度不超过 5 个字符。
（6）房间描述长度不超过 1000 个字符。
（7）房间信息不能重复，成功填写后，可进行保存或取消操作，之后返回”房间管理“页面，结束流程。

先整体分析，选用场景法，生成场景用例

类型 | 描述
---- | ----
基本流 | 旅馆业主登录系统，并进入”房间管理“页面<br>单击”添加“<br>填写房间信息：房间编号、房间类型、房间描述信息，并点击”保存“<br>系统保存房间信息，并返回到”房间管理“
备选流 1 | 填写房间信息有误（房间信息有缺失）
备选流 2 | 填写房间信息有误（房间信息中有些项不符合规定）
备选流 3 | 点击”取消“
备选流 4 | 系统保存时，发现填写的房间信息已存在
备选流 5 | 系统保存时，出现系统故障，如网络故障、数据库故障，弹出系统异常对话框，提示保存失败

场景用例

场景 | 流程 | 描述
---- | ---- | ----
场景1 | 基本流 | 输入正确的房间信息
场景2 | 基本流 备选流1 | 房间信息有缺失
场景3 | 基本流 备选流2 | 房间信息中有些项不符合规定
场景4 | 基本流 备选流3 | 点击”取消“
场景5 | 基本流 备选流4 | 房间信息已存在
场景6 | 基本流 备选流5 | 系统保存时，出现系统故障

再细化分析，针对各个场景，选用等价类划分法和边界值分析法细节分析，细化用例。

等价类划分 | 用例
---- | ----
有效等价类 | 房间信息字符合法，且在长度范围内<br>房间信息字符合法，房间编号 5 个字符，房间描述 1000 个字符
无效等价类 | 房间编号为空<br>房间类型为空<br>房间描述为空<br>房间编号大于最大长度：6 个字符<br>房间描述大于最大长度：1001 个字符

由等价类划分和边界值分析得来的 7 条用例，可补充场景法中的场景 1~3。所以，共有 10 条用例。

用例条数 | 用例描述
---- | ---
1 | 验证添加房间成功（字符合法，长度合规）
2 | 验证添加房间成功（字符合法，长度取最大边界：房间编号 5 个字符，房间描述 1000 个字符）
3 | 验证添加房间失败（房间编号为空）
4 | 验证添加房间失败（房间类型为空）
5 | 验证添加房间失败（房间描述为空）
6 | 验证添加房间失败（房间编号大于最大长度：6 个字符）
7 | 验证添加房间失败（房间描述大于最大长度：1001 个字符）
8 | 验证添加房间失败（填写信息后，点击”取消“）
9 | 验证添加房间失败（房间信息已存在）
10 | 验证添加房间失败（系统保存时，出现系统故障）

最后，为每条用例设计测试数据，添加各要素（编号、模块、优先级、前置条件、测试步骤、测试数据，预期结果），并写入用例单。